# Social Media Manager - Architecture & Flow Diagrams

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Admin Dashboard                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     Admin Sidebar                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Global                                              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Dashboard                                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Features & Categories                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Add Content                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Scores                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ ğŸ¬ Social Media     â† NEW (Easy Access!)         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ System Tools                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Automation Tests                                  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Social Media Manager Page                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Tabs: Generate | Drafts | Scheduled | Published    â”‚ â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  [Generate Tab]                                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Content Type: [Quiz â–¼]  Posts: [3]  [Generate] â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â†“ On Click Generate â†“                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  [Drafts Tab - AUTO-SHOWS]                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Post Card 1 (Instagram)                     â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Caption: Ready for a challenge...           â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ [Preview] [Approve] [Schedule] [Delete]  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Post Card 2 (Facebook)                      â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Caption: Hey friends! Take our quiz...      â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ [Preview] [Approve] [Schedule] [Delete]  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  ... (12 total posts - 4 per content)           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Content Generation Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              User Clicks "Generate Posts"                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          handleGeneratePosts() Triggered                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     SocialContentEngine.generateFromTrendingContent()           â”‚
â”‚     (contentType='quiz', limit=3)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      getUnusedTodayContent('quiz')  â† NEW METHOD               â”‚
â”‚                                                                 â”‚
â”‚  1. Query Firestore:                                            â”‚
â”‚     - Find all social_posts where createdAt >= today          â”‚
â”‚     - Extract contentId from each post                         â”‚
â”‚     - Build Set of used IDs: {1, 2, 3}                        â”‚
â”‚                                                                 â”‚
â”‚  2. Fetch Content:                                              â”‚
â”‚     - getLatestQuizzes(null, 50)                               â”‚
â”‚     - Gets: [Quiz#1, Quiz#4, Quiz#5, Quiz#2, ...]            â”‚
â”‚                                                                 â”‚
â”‚  3. Filter:                                                     â”‚
â”‚     - Remove: {1, 2, 3}                                        â”‚
â”‚     - Keep: [Quiz#4, Quiz#5, Quiz#6, ...]                     â”‚
â”‚                                                                 â”‚
â”‚  4. Return:                                                     â”‚
â”‚     - Fresh content only (no duplicates)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      selectedContent = content.slice(0, 3)                      â”‚
â”‚      Take top 3 unused items: [Quiz#4, Quiz#5, Quiz#6]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      For Each Content Item:                                     â”‚
â”‚      â”œâ”€ generateMultiPlatformPosts(Quiz#4, 'quiz')            â”‚
â”‚      â”‚  â”œâ”€ generatePostForPlatform(Quiz#4, 'instagram')       â”‚
â”‚      â”‚  â”œâ”€ generatePostForPlatform(Quiz#4, 'facebook')        â”‚
â”‚      â”‚  â”œâ”€ generatePostForPlatform(Quiz#4, 'twitter')         â”‚
â”‚      â”‚  â””â”€ generatePostForPlatform(Quiz#4, 'linkedin')        â”‚
â”‚      â”‚     â””â”€ Returns 4 posts with:                            â”‚
â”‚      â”‚        â€¢ caption (platform-specific)                   â”‚
â”‚      â”‚        â€¢ hashtags (platform-specific)                  â”‚
â”‚      â”‚        â€¢ imagePrompt (AI generation)                   â”‚
â”‚      â”‚        â€¢ contentId: "quiz_4"  â† TRACKS CONTENT         â”‚
â”‚      â”‚        â€¢ contentType: "quiz"                           â”‚
â”‚      â”‚        â€¢ status: "draft"                               â”‚
â”‚      â”‚                                                         â”‚
â”‚      â”œâ”€ generateMultiPlatformPosts(Quiz#5, 'quiz') â†’ 4 posts â”‚
â”‚      â””â”€ generateMultiPlatformPosts(Quiz#6, 'quiz') â†’ 4 posts â”‚
â”‚                                                                 â”‚
â”‚      Total: 12 posts (3 content Ã— 4 platforms)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      savePosts(allPosts)  â† SAVES WITH CONTENT ID              â”‚
â”‚                                                                 â”‚
â”‚      For each post:                                             â”‚
â”‚      db.collection('social_posts').add({                       â”‚
â”‚        platform: 'instagram',                                  â”‚
â”‚        caption: '...',                                         â”‚
â”‚        hashtags: [...],                                        â”‚
â”‚        contentId: 'quiz_4',    â† REMEMBER WHAT WAS USED        â”‚
â”‚        contentType: 'quiz',                                    â”‚
â”‚        createdAt: serverTimestamp(),  â† TODAY's TIMESTAMP      â”‚
â”‚        status: 'draft',                                        â”‚
â”‚        ...                                                      â”‚
â”‚      })                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Show Alert: "âœ… Generated 12 posts!"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Switch to Drafts Tab (auto-navigate)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     setTimeout(() => {                                          â”‚
â”‚       SocialContentEngine.getPostsByStatus('draft')             â”‚
â”‚         .then(posts => setPosts(posts))   â† LOAD & DISPLAY    â”‚
â”‚     }, 300ms)                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         12 Posts Now Visible in Drafts Tab!                     â”‚
â”‚         User can Preview, Approve, Schedule, Delete             â”‚
â”‚                                                                 â”‚
â”‚         âœ¨ SEAMLESS WORKFLOW âœ¨                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Daily Content Reset Timeline

```
                        24-HOUR CYCLE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                         â”‚
    â–¼                                         â”‚
 â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
 â•‘     December 24 (Day 1)                 â•‘ â”‚
 â•‘                                         â•‘ â”‚
 â•‘  12:00 AM (00:00)                       â•‘ â”‚
 â•‘  â””â”€ today.setHours(0,0,0,0) = Dec 24  â•‘ â”‚
 â•‘     Used IDs: {} (empty - new day)     â•‘ â”‚
 â•‘                                         â•‘ â”‚
 â•‘  9:00 AM                                â•‘ â”‚
 â•‘  â””â”€ Generate 3 posts from Quiz#1,2,3  â•‘ â”‚
 â•‘     Firestore saves:                    â•‘ â”‚
 â•‘     â€¢ contentId: [1, 2, 3]             â•‘ â”‚
 â•‘     â€¢ createdAt: Dec 24                â•‘ â”‚
 â•‘     System notes: Used {1,2,3} today  â•‘ â”‚
 â•‘                                         â•‘ â”‚
 â•‘  2:00 PM                                â•‘ â”‚
 â•‘  â””â”€ Generate 3 more posts               â•‘ â”‚
 â•‘     getUnusedTodayContent() checks:    â•‘ â”‚
 â•‘     â€¢ When? createdAt >= Dec 24        â•‘ â”‚
 â•‘     â€¢ Find: contentId {1, 2, 3}        â•‘ â”‚
 â•‘     â€¢ Used TODAY, filter out!          â•‘ â”‚
 â•‘     â””â”€ Generate from Quiz#4,5,6        â•‘ â”‚
 â•‘        Firestore saves with ID [4,5,6]â•‘ â”‚
 â•‘        System notes: Used {1,2,3,4,5,6}â•‘ â”‚
 â•‘                                         â•‘ â”‚
 â•‘  11:59 PM                               â•‘ â”‚
 â•‘  â””â”€ today.setHours(0,0,0,0) = Dec 24  â•‘ â”‚
 â•‘     Query: createdAt >= Dec 24         â•‘ â”‚
 â•‘     Finds all Dec 24 posts             â•‘ â”‚
 â•‘     Used: {1,2,3,4,5,6}                â•‘ â”‚
 â•‘                                         â•‘ â”‚
 â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
    â”‚                                         â”‚
    â–¼                                         â”‚
 â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
 â•‘     December 25 (Day 2)                 â•‘ â”‚
 â•‘                                         â•‘ â”‚
 â•‘  12:00 AM (00:01)  â† MIDNIGHT PASSED! â•‘ â”‚
 â•‘  â””â”€ today.setHours(0,0,0,0) = Dec 25 â•‘ â”‚
 â•‘     today = NEW DATE!                  â•‘ â”‚
 â•‘     Query: createdAt >= Dec 25         â•‘ â”‚
 â•‘     Finds: NOTHING (new day!)          â•‘ â”‚
 â•‘     Used IDs: {} (empty - RESET!)      â•‘ â”‚
 â•‘                                         â•‘ â”‚
 â•‘  9:00 AM                                â•‘ â”‚
 â•‘  â””â”€ Generate 3 posts                    â•‘ â”‚
 â•‘     CAN USE Quiz#1,2,3 AGAIN!          â•‘ â”‚
 â•‘     No conflict with yesterday         â•‘ â”‚
 â•‘     System notes: Used {1,2,3} TODAY  â•‘ â”‚
 â•‘     (Today = Dec 25, not Dec 24)      â•‘ â”‚
 â•‘                                         â•‘ â”‚
 â•‘  2:00 PM                                â•‘ â”‚
 â•‘  â””â”€ Generate 3 more posts               â•‘ â”‚
 â•‘     Query: createdAt >= Dec 25         â•‘ â”‚
 â•‘     Finds: contentId {1, 2, 3}         â•‘ â”‚
 â•‘     (Only TODAY's posts, not yesterday)â•‘ â”‚
 â•‘     Filter out {1,2,3}                 â•‘ â”‚
 â•‘     â””â”€ Generate from Quiz#4,5,6        â•‘ â”‚
 â•‘                                         â•‘ â”‚
 â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
    â”‚                                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      (Cycle repeats every 24 hours)
```

---

## Firestore Collections & Queries

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Firebase Firestore                     â”‚
â”‚                                                          â”‚
â”‚  Collection: "social_posts"                             â”‚
â”‚  â”œâ”€ Documents (each is a social media post)            â”‚
â”‚  â”‚  â”œâ”€ id: "post_abc123"                              â”‚
â”‚  â”‚  â”œâ”€ platform: "instagram"                           â”‚
â”‚  â”‚  â”œâ”€ contentId: "quiz_4"        â† TRACKS CONTENT    â”‚
â”‚  â”‚  â”œâ”€ contentType: "quiz"                             â”‚
â”‚  â”‚  â”œâ”€ createdAt: 2025-12-24      â† DATE (for reset)  â”‚
â”‚  â”‚  â”œâ”€ caption: "Ready for challenge..."              â”‚
â”‚  â”‚  â”œâ”€ hashtags: ["#AmAha", ...]                      â”‚
â”‚  â”‚  â”œâ”€ imagePrompt: "Create vibrant..."               â”‚
â”‚  â”‚  â”œâ”€ status: "draft"                                â”‚
â”‚  â”‚  â”œâ”€ cta: "Play now"                                â”‚
â”‚  â”‚  â””â”€ ...                                             â”‚
â”‚  â”‚                                                      â”‚
â”‚  â””â”€ Indexes (for efficient queries)                    â”‚
â”‚     â”œâ”€ createdAt (ascending) - for daily queries       â”‚
â”‚     â”œâ”€ status (ascending) - for filtering by status   â”‚
â”‚     â””â”€ compound: (contentType, createdAt) - optimal    â”‚
â”‚                                                          â”‚
â”‚  Query Examples:                                        â”‚
â”‚  â”œâ”€ Find today's posts:                               â”‚
â”‚  â”‚  .where('createdAt', '>=', TODAY)                  â”‚
â”‚  â”‚  .where('contentType', '==', 'quiz')               â”‚
â”‚  â”‚  .get()                                             â”‚
â”‚  â”‚                                                      â”‚
â”‚  â”œâ”€ Find draft posts:                                 â”‚
â”‚  â”‚  .where('status', '==', 'draft')                   â”‚
â”‚  â”‚  .orderBy('createdAt', 'desc')                     â”‚
â”‚  â”‚  .get()                                             â”‚
â”‚  â”‚                                                      â”‚
â”‚  â””â”€ Check used content:                               â”‚
â”‚     .where('createdAt', '>=', TODAY)                  â”‚
â”‚     .get()                                             â”‚
â”‚     .then(docs => {                                    â”‚
â”‚       usedIds = docs.map(d => d.contentId)            â”‚
â”‚     })                                                  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## User Workflow Diagram

```
                         START
                          â”‚
                          â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Admin navigates to          â”‚
            â”‚  Admin Sidebar â†’ Global â†’    â”‚
            â”‚  Social Media                â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Social Media Manager Page   â”‚
            â”‚  Loaded                      â”‚
            â”‚  (Generate tab active)       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Admin Configures:           â”‚
            â”‚  â€¢ Content Type: Quiz        â”‚
            â”‚  â€¢ Posts to Generate: 3      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Admin Clicks:               â”‚
            â”‚  "âœ¨ Generate Posts"          â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                 â”‚
    System:                            (Meanwhile...)
    Generate posts                   User sees:
    from trending                    Alert: "âœ… Generated"
    unique content                   "12 social media posts!"
    (NOT used today)                 
         â”‚                                 â”‚
         â–¼                                 â–¼
    Firestore:                   Page auto-switches
    Save 12 posts                 to Drafts tab
    with contentId               
         â”‚                                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  [Drafts Tab - AUTO-SHOWS]   â”‚
            â”‚                              â”‚
            â”‚  Post 1: Instagram           â”‚
            â”‚  [ğŸ‘ï¸ Preview] [âœ… Approve] â”‚
            â”‚  [ğŸ“… Schedule] [ğŸ—‘ï¸ Delete]  â”‚
            â”‚                              â”‚
            â”‚  Post 2: Facebook            â”‚
            â”‚  [ğŸ‘ï¸ Preview] [âœ… Approve] â”‚
            â”‚  [ğŸ“… Schedule] [ğŸ—‘ï¸ Delete]  â”‚
            â”‚                              â”‚
            â”‚  ... (12 posts total)        â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚            â”‚            â”‚
        Click         Click        Click
       Preview       Approve      Schedule
             â”‚            â”‚            â”‚
             â–¼            â–¼            â–¼
        Modal         Status    DateTime Picker
        shows full   changes to  Select date/time
        post details 'approved'  Post moves to
                                'scheduled'
```

---

## Data Flow: From Content to Social Posts

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quiz Database     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Quiz #1      â”‚  â”‚
â”‚  â”‚ â”œâ”€ title     â”‚  â”‚
â”‚  â”‚ â”œâ”€ category  â”‚  â”‚
â”‚  â”‚ â””â”€ imageUrl  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Quiz #2      â”‚  â”‚
â”‚  â”‚ â”œâ”€ title     â”‚  â”‚
â”‚  â”‚ â”œâ”€ category  â”‚  â”‚
â”‚  â”‚ â””â”€ imageUrl  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ SocialContentEngine             â”‚
    â”‚                                 â”‚
    â”‚ getUnusedTodayContent()         â”‚
    â”‚ â””â”€ Filters content by:          â”‚
    â”‚    â€¢ createdAt >= today         â”‚
    â”‚    â€¢ NOT in used IDs            â”‚
    â”‚    Returns: [Quiz#2, Quiz#5]    â”‚
    â”‚                                 â”‚
    â”‚ generateMultiPlatformPosts()   â”‚
    â”‚ â””â”€ For each content:            â”‚
    â”‚    â€¢ Instagram post             â”‚
    â”‚    â€¢ Facebook post              â”‚
    â”‚    â€¢ Twitter post               â”‚
    â”‚    â€¢ LinkedIn post              â”‚
    â”‚                                 â”‚
    â”‚ savePosts()                     â”‚
    â”‚ â””â”€ Save all posts with:         â”‚
    â”‚    â€¢ contentId reference        â”‚
    â”‚    â€¢ createdAt timestamp        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Firestore Collection:           â”‚
    â”‚ "social_posts"                  â”‚
    â”‚                                 â”‚
    â”‚ Post 1                          â”‚
    â”‚ â”œâ”€ platform: instagram          â”‚
    â”‚ â”œâ”€ contentId: quiz_2  â† TRACKS  â”‚
    â”‚ â”œâ”€ contentType: quiz            â”‚
    â”‚ â”œâ”€ createdAt: Dec 24 â† RESET    â”‚
    â”‚ â”œâ”€ status: draft                â”‚
    â”‚ â””â”€ caption: "..."               â”‚
    â”‚                                 â”‚
    â”‚ Post 2                          â”‚
    â”‚ â”œâ”€ platform: facebook           â”‚
    â”‚ â”œâ”€ contentId: quiz_2            â”‚
    â”‚ â”œâ”€ contentType: quiz            â”‚
    â”‚ â”œâ”€ createdAt: Dec 24            â”‚
    â”‚ â”œâ”€ status: draft                â”‚
    â”‚ â””â”€ caption: "..."               â”‚
    â”‚                                 â”‚
    â”‚ ... (12 posts total)            â”‚
    â”‚                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Admin UI: Drafts Tab             â”‚
    â”‚                                 â”‚
    â”‚ âœ… Posts Displayed              â”‚
    â”‚ - Can Preview                   â”‚
    â”‚ - Can Approve                   â”‚
    â”‚ - Can Schedule                  â”‚
    â”‚ - Can Delete                    â”‚
    â”‚                                 â”‚
    â”‚ Status: draft â†’ approved        â”‚
    â”‚ â†’ scheduled â†’ published         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Summary

The architecture ensures:

âœ… **Easy Navigation** - Social Media in sidebar
âœ… **Clear Workflow** - Posts immediately visible after generation  
âœ… **Unique Content** - No duplicates in a single day
âœ… **Daily Reset** - Automatic at midnight (UTC)
âœ… **Scalable Design** - Works with any number of quizzes/puzzles
âœ… **Error Handling** - Graceful fallbacks if queries fail

**The system is designed for maximum usability and content diversity! ğŸ‰**
